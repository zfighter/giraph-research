<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_40) on Mon Nov 04 09:24:12 CST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>OwnerAggregatorServerData (Apache Giraph Core 1.0.0 API)</title>
<meta name="date" content="2013-11-04">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OwnerAggregatorServerData (Apache Giraph Core 1.0.0 API)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/OwnerAggregatorServerData.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/giraph/comm/aggregators/CountingOutputStream.html" title="org.apache.giraph.comm.aggregators中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../../org/apache/giraph/comm/aggregators/SendAggregatedValueCache.html" title="org.apache.giraph.comm.aggregators中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html" target="_top">框架</a></li>
<li><a href="OwnerAggregatorServerData.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.giraph.comm.aggregators</div>
<h2 title="类 OwnerAggregatorServerData" class="title">类 OwnerAggregatorServerData</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.giraph.comm.aggregators.OwnerAggregatorServerData</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">OwnerAggregatorServerData</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></pre>
<div class="block">Class for holding aggregators which current worker owns,
 and aggregating partial aggregator values from workers.

 Protocol:
 1. Before the beginning of superstep, worker receives its aggregators
 from master, and these aggregators will be registered to this class.
 Multiple registrations can be called concurrently.
 2. During the superstep, whenever a worker finishes computation,
 it will send partial aggregated values to worker owner. This class is used
 to help deserialize the arriving aggregator values, and aggregate the values
 at the destination owner worker; these can happen concurrently.
 (we know step 1. is finished before anything from step 2. happens because
 other workers can't start computation before they receive aggregators
 which this worker owns)
 3. This class also tracks the number of partial aggregator requests which
 worker received. In the end of superstep, getMyAggregatorValuesWhenReady
 will be called to ensure everything was received and get the values which
 need to be sent to master.
 Because of this counting, in step 2. even if worker owns no aggregators,
 it will still send a message without aggregator data.
 4. In the end we reset to prepare for the next superstep.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#OwnerAggregatorServerData(org.apache.hadoop.util.Progressable, org.apache.giraph.conf.ImmutableClassesGiraphConfiguration)">OwnerAggregatorServerData</a></strong>(org.apache.hadoop.util.Progressable&nbsp;progressable,
                         <a href="../../../../../org/apache/giraph/conf/ImmutableClassesGiraphConfiguration.html" title="org.apache.giraph.conf中的类">ImmutableClassesGiraphConfiguration</a>&nbsp;conf)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#aggregate(java.lang.String, org.apache.hadoop.io.Writable)">aggregate</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
         org.apache.hadoop.io.Writable&nbsp;value)</code>
<div class="block">Aggregate partial value of one of current worker's aggregators.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.io.Writable</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#createAggregatorInitialValue(java.lang.String)">createAggregatorInitialValue</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</code>
<div class="block">Create initial aggregated value for an aggregator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html?is-external=true" title="java.util中的类或接口">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>,org.apache.hadoop.io.Writable&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#getMyAggregatorValuesWhenReady(java.util.Set)">getMyAggregatorValuesWhenReady</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="java.util中的类或接口">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="java.lang中的类或接口">Integer</a>&gt;&nbsp;workerIds)</code>
<div class="block">This function will wait until all partial aggregated values from all
 workers are ready and aggregated, and return final aggregated values
 afterwards.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#receivedRequestCountFromWorker(long, int)">receivedRequestCountFromWorker</a></strong>(long&nbsp;requestCount,
                              int&nbsp;taskId)</code>
<div class="block">Notify this object about the total number of requests which should
 arrive from one of the workers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#receivedRequestFromWorker()">receivedRequestFromWorker</a></strong>()</code>
<div class="block">Notify this object that a partial aggregated values request from some
 worker have been received.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#registerAggregator(java.lang.String, java.lang.Class)">registerAggregator</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;<a href="../../../../../org/apache/giraph/aggregators/Aggregator.html" title="org.apache.giraph.aggregators中的接口">Aggregator</a>&lt;org.apache.hadoop.io.Writable&gt;&gt;&nbsp;aggregatorClass)</code>
<div class="block">Register an aggregator which current worker owns.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html#reset()">reset</a></strong>()</code>
<div class="block">Prepare for next superstep</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="java.lang中的类或接口">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="java.lang中的类或接口">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="java.lang中的类或接口">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="java.lang中的类或接口">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="java.lang中的类或接口">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="java.lang中的类或接口">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="java.lang中的类或接口">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="java.lang中的类或接口">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="java.lang中的类或接口">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="java.lang中的类或接口">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="java.lang中的类或接口">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="OwnerAggregatorServerData(org.apache.hadoop.util.Progressable, org.apache.giraph.conf.ImmutableClassesGiraphConfiguration)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OwnerAggregatorServerData</h4>
<pre>public&nbsp;OwnerAggregatorServerData(org.apache.hadoop.util.Progressable&nbsp;progressable,
                         <a href="../../../../../org/apache/giraph/conf/ImmutableClassesGiraphConfiguration.html" title="org.apache.giraph.conf中的类">ImmutableClassesGiraphConfiguration</a>&nbsp;conf)</pre>
<div class="block">Constructor</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>progressable</code> - Progressable used to report progress</dd><dd><code>conf</code> - Configuration</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="registerAggregator(java.lang.String, java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerAggregator</h4>
<pre>public&nbsp;void&nbsp;registerAggregator(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="java.lang中的类或接口">Class</a>&lt;<a href="../../../../../org/apache/giraph/aggregators/Aggregator.html" title="org.apache.giraph.aggregators中的接口">Aggregator</a>&lt;org.apache.hadoop.io.Writable&gt;&gt;&nbsp;aggregatorClass)</pre>
<div class="block">Register an aggregator which current worker owns. Thread-safe.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>name</code> - Name of aggregator</dd><dd><code>aggregatorClass</code> - Aggregator class</dd></dl>
</li>
</ul>
<a name="aggregate(java.lang.String, org.apache.hadoop.io.Writable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggregate</h4>
<pre>public&nbsp;void&nbsp;aggregate(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name,
             org.apache.hadoop.io.Writable&nbsp;value)</pre>
<div class="block">Aggregate partial value of one of current worker's aggregators.

 Thread-safe. Call only after aggregators have been registered.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>name</code> - Name of the aggregator</dd><dd><code>value</code> - Value to aggregate to it</dd></dl>
</li>
</ul>
<a name="createAggregatorInitialValue(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAggregatorInitialValue</h4>
<pre>public&nbsp;org.apache.hadoop.io.Writable&nbsp;createAggregatorInitialValue(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;name)</pre>
<div class="block">Create initial aggregated value for an aggregator. Used so requests
 would be able to deserialize data.

 Thread-safe. Call only after aggregators have been registered.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>name</code> - Name of the aggregator</dd>
<dt><span class="strong">返回:</span></dt><dd>Empty aggregated value for this aggregator</dd></dl>
</li>
</ul>
<a name="receivedRequestFromWorker()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receivedRequestFromWorker</h4>
<pre>public&nbsp;void&nbsp;receivedRequestFromWorker()</pre>
<div class="block">Notify this object that a partial aggregated values request from some
 worker have been received. Thread-safe.</div>
</li>
</ul>
<a name="receivedRequestCountFromWorker(long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receivedRequestCountFromWorker</h4>
<pre>public&nbsp;void&nbsp;receivedRequestCountFromWorker(long&nbsp;requestCount,
                                  int&nbsp;taskId)</pre>
<div class="block">Notify this object about the total number of requests which should
 arrive from one of the workers. Thread-safe.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>requestCount</code> - Number of requests which should arrive</dd><dd><code>taskId</code> - Task id of that worker</dd></dl>
</li>
</ul>
<a name="getMyAggregatorValuesWhenReady(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMyAggregatorValuesWhenReady</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Iterable.html?is-external=true" title="java.lang中的类或接口">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html?is-external=true" title="java.util中的类或接口">Map.Entry</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>,org.apache.hadoop.io.Writable&gt;&gt;&nbsp;getMyAggregatorValuesWhenReady(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="java.util中的类或接口">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html?is-external=true" title="java.lang中的类或接口">Integer</a>&gt;&nbsp;workerIds)</pre>
<div class="block">This function will wait until all partial aggregated values from all
 workers are ready and aggregated, and return final aggregated values
 afterwards.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>workerIds</code> - All workers in the job apart from the current one</dd>
<dt><span class="strong">返回:</span></dt><dd>Iterable through final aggregated values which this worker owns</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Prepare for next superstep</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/OwnerAggregatorServerData.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/giraph/comm/aggregators/CountingOutputStream.html" title="org.apache.giraph.comm.aggregators中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../../org/apache/giraph/comm/aggregators/SendAggregatedValueCache.html" title="org.apache.giraph.comm.aggregators中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/giraph/comm/aggregators/OwnerAggregatorServerData.html" target="_top">框架</a></li>
<li><a href="OwnerAggregatorServerData.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011-2013 <a href="http://www.apache.org">The Apache Software Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
